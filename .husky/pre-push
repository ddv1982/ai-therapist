#!/bin/sh

# Pre-push hook: Full verification before pushing to remote
# Runs qa:full (api:types + lint + tsc + jest + coverage + e2e)

# Find bun binary
BUN=$(command -v bun 2>/dev/null || echo "$HOME/.bun/bin/bun")

echo "ğŸš€ Pre-push: Running full QA verification..."

# 1. Run full QA suite
CI=1 $BUN run qa:full || exit 1

# 2. Verify build compiles successfully
echo "ğŸ—ï¸ Verifying production build..."
$BUN run build || exit 1

echo "âœ… Pre-push checks passed! Pushing to remote..."
