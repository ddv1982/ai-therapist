---
globs: *.ts,*.tsx
---
# API Types and Typed Client Usage

- Use generated OpenAPI types from
  [`src/types/api.generated.ts`](mdc:src/types/api.generated.ts) and helpers in
  [`src/types/api.ts`](mdc:src/types/api.ts).
- Prefer the shared API client in [`src/lib/api/client.ts`](mdc:src/lib/api/client.ts)
  when calling server endpoints from the client, and ensure requests include
  `X-Request-Id` where relevant.
- On the server, standardize responses via `ApiResponse<T>` and use `getApiData`
  (see [`src/lib/api/api-response.ts`](mdc:src/lib/api/api-response.ts)).
- Keep `docs/api.yaml` as the source of truth. When endpoints change, update the
  spec and re-generate types via the `api:types` script noted in the README.

